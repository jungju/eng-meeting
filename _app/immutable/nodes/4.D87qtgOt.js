import{t as E,e as x,a as $,s as h,c as te}from"../chunks/9qydAh7f.js";import"../chunks/DJ2Vnlnt.js";import{a3 as ae,a4 as M,a5 as se,a6 as z,t as C,a7 as oe,a8 as y,c as n,g as e,m as l,q as s,r as i,a9 as re,F as ne}from"../chunks/DtbIDjdp.js";import{i as le}from"../chunks/WTzozmca.js";import{e as ie,i as ce}from"../chunks/CH1tXt4O.js";import{s as ve}from"../chunks/CJwhtPG-.js";import{s as D}from"../chunks/CQ9w9LsZ.js";import{i as pe}from"../chunks/C9d5Nnnl.js";import{s as de,a as fe}from"../chunks/D9rNo8m1.js";import{o as me,a as ue}from"../chunks/D6I675W2.js";import{p as _e}from"../chunks/BMwG-oRe.js";import{b as ge}from"../chunks/BpmljOgW.js";var be=E('<div><div class="idx svelte-3dc2er"></div> <div> </div></div>'),xe=E('<p class="loading svelte-3dc2er">문장 데이터를 불러오는 중입니다...</p>'),$e=E('<div class="list svelte-3dc2er"><!></div> <div class="controls svelte-3dc2er"><button> </button> <button> </button> <button> </button></div>',1);function Me(F,P){ae(P,!1);const[R,V]=de(),T=()=>fe(_e,"$page",R),m=l(),k=l();let v=l([]),p=l(-1),a,d=l(!1),o=l("none"),u=l(!1);me(async()=>{if(!e(m))return;const t=await fetch(`${e(k)}/sentences.json`);t.ok&&s(v,(await t.json()).sentences)}),ue(()=>{a==null||a.pause()});async function f(t){var r;t<0||t>=e(v).length||(s(p,t),await re(),(r=document.getElementById(`s-${t}`))==null||r.scrollIntoView({behavior:"smooth",block:"center"}),a==null||a.pause(),a=new Audio(`${e(k)}/audio/${String(t+1).padStart(2,"0")}.mp3`),a.onended=()=>e(o)==="one"?f(e(p)):e(p)<e(v).length-1?f(e(p)+1):e(o)==="all"?f(0):s(d,!1),s(d,!0),a.play())}function G(){a?a.paused?(a.play(),s(d,!0)):(a.pause(),s(d,!1)):f(0)}function H(){s(o,e(o)==="none"?"one":e(o)==="one"?"all":"none")}function J(){s(u,!e(u))}M(()=>T(),()=>{var t;s(m,((t=T().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:t[1])||"")}),M(()=>e(m),()=>{s(k,`${ge}/assets/sentence/${e(m)}`)}),se(),pe();var j=$e(),S=z(j),K=n(S);{var L=t=>{var r=te(),W=z(r);ie(W,1,()=>e(v),ce,(X,Y,b)=>{var c=be();ve(c,"id",`s-${b}`);var B=n(c);B.textContent=b+1;var A=y(B,2);let I;var Z=n(A,!0);i(A),i(c),C(ee=>{D(c,1,`sent ${b===e(p)?"active":""}`,"svelte-3dc2er"),I=D(A,1,"text svelte-3dc2er",null,I,ee),h(Z,e(Y))},[()=>({large:e(u)})],ne),x("click",c,()=>f(b)),$(X,c)}),$(t,r)},N=t=>{var r=xe();$(t,r)};le(K,t=>{e(v).length?t(L):t(N,!1)})}i(S);var q=y(S,2),_=n(q),O=n(_,!0);i(_);var g=y(_,2),Q=n(g);i(g);var w=y(g,2),U=n(w,!0);i(w),i(q),C(()=>{h(O,e(d)?"⏸":"▶"),h(Q,`반복:${e(o)==="none"?"없음":e(o)==="one"?"한 문장":"전체"}`),h(U,e(u)?"기본크기":"글자 크게")}),x("click",_,G),x("click",g,H),x("click",w,J),$(F,j),oe(),V()}export{Me as component};
