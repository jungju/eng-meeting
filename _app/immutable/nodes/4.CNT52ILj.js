import{t as q,e as _,a as j,s as u,c as pt}from"../chunks/COMqp8kh.js";import"../chunks/DwxwvPS7.js";import{a3 as _t,a4 as L,a5 as bt,a6 as N,t as O,a7 as gt,c as n,a8 as d,g as t,m as l,s as a,r,a9 as ht,I as xt}from"../chunks/BkdumivH.js";import{i as kt}from"../chunks/CiZIvcdN.js";import{e as $t,i as yt}from"../chunks/BTCzXXE8.js";import{s as zt}from"../chunks/BbceuwL6.js";import{s as Q}from"../chunks/C9c2cQCK.js";import{i as wt}from"../chunks/CzMeScZB.js";import{s as St,a as Et}from"../chunks/CiP27Q9f.js";import{o as Mt,a as jt}from"../chunks/DiGSb2uk.js";import{p as At}from"../chunks/CJsH0qS4.js";import{b as Bt}from"../chunks/4IEImcz2.js";var It=q('<div><div class="line svelte-1m1v1z6"><div class="idx svelte-1m1v1z6"></div> <div class="content svelte-1m1v1z6"><div> </div> <div class="kor svelte-1m1v1z6"> </div></div></div></div>'),Tt=q('<p class="loading svelte-1m1v1z6">문장 데이터를 불러오는 중입니다...</p>'),qt=q('<div class="list svelte-1m1v1z6"><!></div> <div class="controls svelte-1m1v1z6"><button> </button> <button> </button> <button> </button> <button> </button> <button> </button></div>',1);function Ot(U,W){_t(W,!1);const[X,Y]=St(),C=()=>Et(At,"$page",X),x=l(),A=l();let v=l([]),D=l([]),b=l(-1),o,g=l(!1),c=l("none"),k=l(!1),$=l(!1),y=l(!1),H=[];Mt(async()=>{if(!t(x))return;const e=await fetch(`${t(A)}/sentences.json`);if(e.ok){const s=await e.json();a(v,s.sentences),a(D,s.korean)}}),jt(()=>{o==null||o.pause()});async function h(e){var s;e<0||e>=t(v).length||(a(b,e),await ht(),(s=document.getElementById(`s-${e}`))==null||s.scrollIntoView({behavior:"smooth",block:"center"}),o==null||o.pause(),o=new Audio(`${t(A)}/audio/${String(e+1).padStart(2,"0")}.mp3`),o.onended=()=>{setTimeout(()=>{t(c)==="one"?h(t(b)):t(b)<t(v).length-1?h(t(b)+1):t(c)==="all"?h(0):a(g,!1)},2e3)},a(g,!0),o.play())}function Z(){o?o.paused?(o.play(),a(g,!0)):(o.pause(),a(g,!1)):h(0)}function tt(){a(c,t(c)==="none"?"one":t(c)==="one"?"all":"none")}function et(){a(k,!t(k))}function at(){a($,!t($))}function st(){a(y,!t(y)),t(y)?(H=[...t(v)],a(v,t(v).map(e=>{const s=e.split(" "),m=s.length,T=m<=2?1:m>=10?3:2,f=[];for(;f.length<T;){const i=Math.floor(Math.random()*m);f.includes(i)||f.push(i)}return f.forEach(i=>s[i]="____"),s.join(" ")}))):a(v,[...H])}L(()=>C(),()=>{var e;a(x,((e=C().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:e[1])||"")}),L(()=>t(x),()=>{a(A,`${Bt}/assets/sentence/${t(x)}`)}),bt(),wt();var P=qt(),B=N(P),ot=n(B);{var nt=e=>{var s=pt(),m=N(s);$t(m,1,()=>t(v),yt,(T,f,i)=>{var p=It();zt(p,"id",`s-${i}`);var V=n(p),F=n(V);F.textContent=`${i+1}.`;var G=d(F,2),M=n(G);let J;var dt=n(M,!0);r(M);var K=d(M,2),mt=n(K,!0);r(K),r(G),r(V),r(p),O(ft=>{Q(p,1,`sent ${i===t(b)?"active":""}`,"svelte-1m1v1z6"),J=Q(M,1,"text svelte-1m1v1z6",null,J,ft),u(dt,t(f)),u(mt,t(D)[i])},[()=>({large:t(k),hidden:t($)})],xt),_("click",p,()=>h(i)),j(T,p)}),j(e,s)},rt=e=>{var s=Tt();j(e,s)};kt(ot,e=>{t(v).length?e(nt):e(rt,!1)})}r(B);var R=d(B,2),z=n(R),it=n(z,!0);r(z);var w=d(z,2),lt=n(w);r(w);var S=d(w,2),vt=n(S,!0);r(S);var E=d(S,2),ct=n(E,!0);r(E);var I=d(E,2),ut=n(I,!0);r(I),r(R),O(()=>{u(it,t(g)?"⏸":"▶"),u(lt,`반복:${t(c)==="none"?"없음":t(c)==="one"?"한 문장":"전체"}`),u(vt,t(k)?"기본크기":"글자 크게"),u(ct,t($)?"영어 보이기":"영어 숨기기"),u(ut,t(y)?"원문 보기":"빈칸 만들기")}),_("click",z,Z),_("click",w,tt),_("click",S,et),_("click",E,at),_("click",I,st),j(U,P),gt(),Y()}export{Ot as component};
