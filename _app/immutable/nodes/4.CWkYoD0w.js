import{t as q,e as x,a as S,s as w,c as ae}from"../chunks/CEmPIxNJ.js";import"../chunks/By0_FFSG.js";import{h as D,a3 as se,a8 as F,a9 as re,a5 as L,t as P,a6 as oe,a4 as A,c as v,g as e,o as f,q as r,r as p,aa as ne,F as ie}from"../chunks/DKVBVOUy.js";import{i as le}from"../chunks/DVrbH2wj.js";import{e as ce,i as ve}from"../chunks/C6EYMggD.js";import{s as fe}from"../chunks/BnVpz-va.js";import{a as pe}from"../chunks/DkPbIObf.js";import{i as ue}from"../chunks/DaaNtiuP.js";import{s as de,a as me}from"../chunks/PMqurswi.js";import{o as ge,a as _e}from"../chunks/DxGEdkc3.js";import{p as be}from"../chunks/DsOKrBI6.js";import{b as he}from"../chunks/D-ezZbvC.js";function R(i,B,g,E,u,s){var d=i.__className;if(D||d!==g||d===void 0){var o=pe(g,E,s);(!D||o!==i.getAttribute("class"))&&(o==null?i.removeAttribute("class"):i.className=o),i.__className=g}else if(s&&u!==s)for(var n in s){var a=!!s[n];(u==null||a!==!!u[n])&&i.classList.toggle(n,a)}return s}var $e=q('<div><div class="idx svelte-3dc2er"></div> <div> </div></div>'),ye=q('<p class="loading svelte-3dc2er">문장 데이터를 불러오는 중입니다...</p>'),ke=q('<div class="list svelte-3dc2er"><!></div> <div class="controls svelte-3dc2er"><button> </button> <button> </button> <button> </button></div>',1);function ze(i,B){se(B,!1);const[g,E]=de(),u=()=>me(be,"$page",g),s=f(),d=f();let o=f([]),n=f(-1),a,_=f(!1),l=f("none"),h=f(!1);ge(async()=>{if(!e(s))return;const t=await fetch(`${e(d)}/sentences.json`);t.ok&&r(o,(await t.json()).sentences)}),_e(()=>{a==null||a.pause()});async function b(t){var c;t<0||t>=e(o).length||(r(n,t),await ne(),(c=document.getElementById(`s-${t}`))==null||c.scrollIntoView({behavior:"smooth",block:"center"}),a==null||a.pause(),a=new Audio(`${e(d)}/audio/${String(t+1).padStart(2,"0")}.mp3`),a.onended=()=>e(l)==="one"?b(e(n)):e(n)<e(o).length-1?b(e(n)+1):e(l)==="all"?b(0):r(_,!1),r(_,!0),a.play())}function V(){a?a.paused?(a.play(),r(_,!0)):(a.pause(),r(_,!1)):b(0)}function G(){r(l,e(l)==="none"?"one":e(l)==="one"?"all":"none")}function H(){r(h,!e(h))}F(()=>u(),()=>{var t;r(s,((t=u().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:t[1])||"")}),F(()=>e(s),()=>{r(d,`${he}/assets/sentence/${e(s)}`)}),re(),ue();var I=ke(),N=L(I),J=v(N);{var K=t=>{var c=ae(),X=L(c);ce(X,1,()=>e(o),ve,(Y,Z,k)=>{var m=$e();fe(m,"id",`s-${k}`);var z=v(m);z.textContent=k+1;var j=A(z,2);let C;var ee=v(j,!0);p(j),p(m),P(te=>{R(m,1,`sent ${k===e(n)?"active":""}`,"svelte-3dc2er"),C=R(j,1,"text svelte-3dc2er",null,C,te),w(ee,e(Z))},[()=>({large:e(h)})],ie),x("click",m,()=>b(k)),S(Y,m)}),S(t,c)},O=t=>{var c=ye();S(t,c)};le(J,t=>{e(o).length?t(K):t(O,!1)})}p(N);var M=A(N,2),$=v(M),Q=v($,!0);p($);var y=A($,2),U=v(y);p(y);var T=A(y,2),W=v(T,!0);p(T),p(M),P(()=>{w(Q,e(_)?"⏸":"▶"),w(U,`반복:${e(l)==="none"?"없음":e(l)==="one"?"한 문장":"전체"}`),w(W,e(h)?"기본크기":"글자 크게")}),x("click",$,V),x("click",y,G),x("click",T,H),S(i,I),oe(),E()}export{ze as component};
