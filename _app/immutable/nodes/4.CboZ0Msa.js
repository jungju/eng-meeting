import{t as q,e as k,a as S,s as w,c as at}from"../chunks/CEmPIxNJ.js";import"../chunks/By0_FFSG.js";import{h as F,a3 as st,a8 as L,a9 as ot,a5 as P,t as R,a6 as rt,a4 as A,c as v,g as t,o as f,q as o,r as p,aa as nt,F as it}from"../chunks/DKVBVOUy.js";import{i as lt}from"../chunks/DVrbH2wj.js";import{e as ct,i as vt}from"../chunks/C6EYMggD.js";import{s as ft}from"../chunks/BnVpz-va.js";import{a as pt}from"../chunks/DkPbIObf.js";import{i as ut}from"../chunks/DaaNtiuP.js";import{s as mt,a as dt}from"../chunks/CWYHwTbz.js";import{o as gt}from"../chunks/0jm4Ivcg.js";import{p as _t}from"../chunks/CW3iJR4P.js";import{b as xt}from"../chunks/BRfieWUK.js";function V(i,B,g,E,u,s){var m=i.__className;if(F||m!==g||m===void 0){var r=pt(g,E,s);(!F||r!==i.getAttribute("class"))&&(r==null?i.removeAttribute("class"):i.className=r),i.__className=g}else if(s&&u!==s)for(var n in s){var a=!!s[n];(u==null||a!==!!u[n])&&i.classList.toggle(n,a)}return s}var bt=q('<div><div class="idx svelte-1y8x9x6"></div> <div> </div></div>'),yt=q('<p class="loading svelte-1y8x9x6">문장 데이터를 불러오는 중입니다...</p>'),ht=q('<div class="list svelte-1y8x9x6"><!></div> <div class="controls svelte-1y8x9x6"><button class="svelte-1y8x9x6"> </button> <button class="svelte-1y8x9x6"> </button> <button class="svelte-1y8x9x6"> </button></div>',1);function Mt(i,B){st(B,!1);const[g,E]=mt(),u=()=>dt(_t,"$page",g),s=f(),m=f();let r=f([]),n=f(-1),a,_=f(!1),l=f("none"),b=f(!1);gt(async()=>{if(!t(s))return;const e=await fetch(`${t(m)}/sentences.json`);e.ok&&o(r,(await e.json()).sentences)});async function x(e){var c;e<0||e>=t(r).length||(o(n,e),await nt(),(c=document.getElementById(`s-${e}`))==null||c.scrollIntoView({behavior:"smooth",block:"center"}),a==null||a.pause(),a=new Audio(`${t(m)}/audio/${String(e+1).padStart(2,"0")}.mp3`),a.onended=()=>t(l)==="one"?x(t(n)):t(n)<t(r).length-1?x(t(n)+1):t(l)==="all"?x(0):o(_,!1),o(_,!0),a.play())}function D(){a?a.paused?(a.play(),o(_,!0)):(a.pause(),o(_,!1)):x(0)}function G(){o(l,t(l)==="none"?"one":t(l)==="one"?"all":"none")}function H(){o(b,!t(b))}L(()=>u(),()=>{var e;o(s,((e=u().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:e[1])||"")}),L(()=>t(s),()=>{o(m,`${xt}/assets/sentence/${t(s)}`)}),ot(),ut();var I=ht(),N=P(I),J=v(N);{var K=e=>{var c=at(),X=P(c);ct(X,1,()=>t(r),vt,(Y,Z,$)=>{var d=bt();ft(d,"id",`s-${$}`);var z=v(d);z.textContent=$+1;var j=A(z,2);let C;var tt=v(j,!0);p(j),p(d),R(et=>{V(d,1,`sent ${$===t(n)?"active":""}`,"svelte-1y8x9x6"),C=V(j,1,"text svelte-1y8x9x6",null,C,et),w(tt,t(Z))},[()=>({large:t(b)})],it),k("click",d,()=>x($)),S(Y,d)}),S(e,c)},O=e=>{var c=yt();S(e,c)};lt(J,e=>{t(r).length?e(K):e(O,!1)})}p(N);var M=A(N,2),y=v(M),Q=v(y,!0);p(y);var h=A(y,2),U=v(h);p(h);var T=A(h,2),W=v(T,!0);p(T),p(M),R(()=>{w(Q,t(_)?"⏸":"▶"),w(U,`반복:${t(l)==="none"?"없음":t(l)==="one"?"한 문장":"전체"}`),w(W,t(b)?"기본크기":"글자 크게")}),k("click",y,D),k("click",h,G),k("click",T,H),S(i,I),rt(),E()}export{Mt as component};
