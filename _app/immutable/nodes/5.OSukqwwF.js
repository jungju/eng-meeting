import{t as I,e as m,a as $,s as p,c as Et}from"../chunks/CMrKsAIM.js";import"../chunks/BmGMRanT.js";import{a9 as St,ab as C,ac as Kt,f as Z,t as G,ad as Mt,a as c,s as f,c as r,g as t,l as a,r as n,af as jt,R as tt}from"../chunks/Btjerwqt.js";import{i as At}from"../chunks/3CCI0ror.js";import{e as et,i as st}from"../chunks/Dg5wf27x.js";import{s as Bt}from"../chunks/CFkFE66I.js";import{s as D}from"../chunks/D6txDpE6.js";import{i as Dt}from"../chunks/Bn3qeioi.js";import{s as It,a as Rt}from"../chunks/Bqr_BXZZ.js";import{o as Tt,a as qt}from"../chunks/DDGzSC41.js";import{p as zt}from"../chunks/DjNEDvtk.js";import{b as Ct}from"../chunks/CAI_r4C8.js";var Gt=I('<div><div class="line svelte-k3ns25"><div class="idx svelte-k3ns25"></div> <div class="content svelte-k3ns25"><div> </div> <div> </div></div></div></div>'),Lt=I('<p class="loading svelte-k3ns25">문장 데이터를 불러오는 중입니다...</p>'),Pt=I("<button> </button>"),Vt=I('<div class="list svelte-k3ns25"><!></div> <div class="controls svelte-k3ns25"><button> </button> <button> </button> <button> </button> <button> </button> <button> </button> <div class="gap-group svelte-k3ns25"></div></div>',1);function ee(at,nt){St(nt,!1);const[ot,rt]=It(),L=()=>Rt(zt,"$page",ot),y=c(),R=c(),P=c();let v=c([]),V=c([]),g=c(-1),o,k=c(!1),_=c("none"),w=c(!1),E=c(!1),F=[],d=c("both");function it(){a(d,t(d)==="both"?"hideKor":t(d)==="hideKor"?"hideEng":"both")}const H=[0,1e3,3e3,5e3];let T=c(H[0]);Tt(async()=>{if(!t(y))return;const e=await fetch(`${t(R)}/sentences.json`);if(e.ok){const s=await e.json();a(v,s.sentences),a(V,s.korean)}}),qt(()=>{o==null||o.pause()});async function x(e){var s;e<0||e>=t(v).length||(a(g,e),await jt(),(s=document.getElementById(`s-${e}`))==null||s.scrollIntoView({behavior:"smooth",block:"center"}),o==null||o.pause(),o=new Audio(`${t(R)}/audio/${String(e+1).padStart(2,"0")}.mp3`),o.onended=()=>{setTimeout(()=>{t(_)==="one"?x(t(g)):t(g)<t(v).length-1?x(t(g)+1):t(_)==="all"?x(0):a(k,!1)},t(T))},a(k,!0),o.play())}function lt(){o?o.paused?(o.play(),a(k,!0)):(o.pause(),a(k,!1)):x(0)}function ct(){a(_,t(_)==="none"?"one":t(_)==="one"?"all":"none")}function vt(){a(w,!t(w))}function dt(){a(E,!t(E)),t(E)?(F=[...t(v)],a(v,t(v).map(e=>{const s=e.split(" "),i=s.length,b=i<=2?1:i>=10?3:2,u=[];for(;u.length<b;){const l=Math.floor(Math.random()*i);u.includes(l)||u.push(l)}return u.forEach(l=>s[l]="____"),s.join(" ")}))):a(v,[...F])}function ut(e){a(T,e)}C(()=>L(),()=>{var e;a(y,((e=L().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:e[1])||"")}),C(()=>t(y),()=>{a(R,`${Ct}/assets/sentence/${t(y)}`)}),C(()=>t(d),()=>{a(P,t(d)==="both"?"한글 숨기기":t(d)==="hideKor"?"영어 숨기기":"기본 보기")}),Kt(),Dt();var J=Vt(),q=Z(J),pt=r(q);{var ft=e=>{var s=Et(),i=Z(s);et(i,1,()=>t(v),st,(b,u,l)=>{var h=Gt();Bt(h,"id",`s-${l}`);var Q=r(h),U=r(Q);U.textContent=`${l+1}.`;var W=f(U,2),B=r(W);let X;var xt=r(B,!0);n(B);var z=f(B,2);let Y;var $t=r(z,!0);n(z),n(W),n(Q),n(h),G((yt,wt)=>{D(h,1,`sent ${l===t(g)?"active":""}`,"svelte-k3ns25"),X=D(B,1,"text svelte-k3ns25",null,X,yt),p(xt,t(u)),Y=D(z,1,"kor svelte-k3ns25",null,Y,wt),p($t,t(V)[l])},[()=>({large:t(w),hidden:t(d)==="hideEng"}),()=>({hidden:t(d)==="hideKor"})],tt),m("click",h,()=>x(l)),$(b,h)}),$(e,s)},_t=e=>{var s=Lt();$(e,s)};At(pt,e=>{t(v).length?e(ft):e(_t,!1)})}n(q);var N=f(q,2),S=r(N),mt=r(S,!0);n(S);var K=f(S,2),bt=r(K);n(K);var M=f(K,2),ht=r(M,!0);n(M);var j=f(M,2),gt=r(j,!0);n(j);var A=f(j,2),kt=r(A,!0);n(A);var O=f(A,2);et(O,5,()=>H,st,(e,s)=>{var i=Pt();let b;var u=r(i,!0);n(i),G(l=>{b=D(i,1,"svelte-k3ns25",null,b,l),p(u,t(s)===0?"즉시":`${t(s)/1e3}초`)},[()=>({selected:t(T)===t(s)})],tt),m("click",i,()=>ut(t(s))),$(e,i)}),n(O),n(N),G(()=>{p(mt,t(k)?"⏸":"▶"),p(bt,`반복:${t(_)==="none"?"없음":t(_)==="one"?"한 문장":"전체"}`),p(ht,t(w)?"기본크기":"글자 크게"),p(gt,t(P)),p(kt,t(E)?"원문 보기":"빈칸 만들기")}),m("click",S,lt),m("click",K,ct),m("click",M,vt),m("click",j,it),m("click",A,dt),$(at,J),Mt(),rt()}export{ee as component};
