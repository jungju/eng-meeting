import{t as q,e as k,a as x,s as S,c as at}from"../chunks/CEmPIxNJ.js";import"../chunks/By0_FFSG.js";import{h as F,a3 as st,a8 as L,a9 as rt,a5 as P,t as R,a6 as ot,a4 as A,c,g as t,o as v,q as r,r as f,aa as nt,F as lt}from"../chunks/DKVBVOUy.js";import{i as it}from"../chunks/DVrbH2wj.js";import{e as pt,i as ct}from"../chunks/C6EYMggD.js";import{s as vt}from"../chunks/BnVpz-va.js";import{a as ft}from"../chunks/DkPbIObf.js";import{i as ut}from"../chunks/DaaNtiuP.js";import{s as mt,a as dt}from"../chunks/CWYHwTbz.js";import{o as gt}from"../chunks/0jm4Ivcg.js";import{p as _t}from"../chunks/ChuFddD4.js";import{b as bt}from"../chunks/CniueAip.js";function V(l,B,g,E,u,s){var m=l.__className;if(F||m!==g||m===void 0){var o=ft(g,E,s);(!F||o!==l.getAttribute("class"))&&(o==null?l.removeAttribute("class"):l.className=o),l.__className=g}else if(s&&u!==s)for(var n in s){var a=!!s[n];(u==null||a!==!!u[n])&&l.classList.toggle(n,a)}return s}var ht=q('<div><div class="idx svelte-1rwp5lp"></div> <div> </div></div>'),wt=q('<p class="loading svelte-1rwp5lp">문장 데이터를 불러오는 중입니다...</p>'),$t=q('<div class="list svelte-1rwp5lp"><!></div> <div class="controls svelte-1rwp5lp"><button class="svelte-1rwp5lp"> </button> <button class="svelte-1rwp5lp"> </button> <button class="svelte-1rwp5lp"> </button></div>',1);function Mt(l,B){st(B,!1);const[g,E]=mt(),u=()=>dt(_t,"$page",g),s=v(),m=v();let o=v([]),n=v(-1),a,_=v(!1),i=v("none"),h=v(!1);gt(async()=>{if(!t(s))return;const e=await fetch(`${t(m)}/sentences.json`);e.ok&&r(o,(await e.json()).sentences)});async function b(e){var p;e<0||e>=t(o).length||(r(n,e),await nt(),(p=document.getElementById(`s-${e}`))==null||p.scrollIntoView({behavior:"smooth",block:"center"}),a==null||a.pause(),a=new Audio(`${t(m)}/audio/${String(e+1).padStart(2,"0")}.mp3`),a.onended=()=>t(i)==="one"?b(t(n)):t(n)<t(o).length-1?b(t(n)+1):t(i)==="all"?b(0):r(_,!1),r(_,!0),a.play())}function D(){a?a.paused?(a.play(),r(_,!0)):(a.pause(),r(_,!1)):b(0)}function G(){r(i,t(i)==="none"?"one":t(i)==="one"?"all":"none")}function H(){r(h,!t(h))}L(()=>u(),()=>{var e;r(s,((e=u().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:e[1])||"")}),L(()=>t(s),()=>{r(m,`${bt}/assets/sentence/${t(s)}`)}),rt(),ut();var I=$t(),N=P(I),J=c(N);{var K=e=>{var p=at(),X=P(p);pt(X,1,()=>t(o),ct,(Y,Z,y)=>{var d=ht();vt(d,"id",`s-${y}`);var z=c(d);z.textContent=y+1;var j=A(z,2);let C;var tt=c(j,!0);f(j),f(d),R(et=>{V(d,1,`sent ${y===t(n)?"active":""}`,"svelte-1rwp5lp"),C=V(j,1,"text svelte-1rwp5lp",null,C,et),S(tt,t(Z))},[()=>({large:t(h)})],lt),k("click",d,()=>b(y)),x(Y,d)}),x(e,p)},O=e=>{var p=wt();x(e,p)};it(J,e=>{t(o).length?e(K):e(O,!1)})}f(N);var M=A(N,2),w=c(M),Q=c(w,!0);f(w);var $=A(w,2),U=c($);f($);var T=A($,2),W=c(T,!0);f(T),f(M),R(()=>{S(Q,t(_)?"⏸":"▶"),S(U,`반복:${t(i)==="none"?"없음":t(i)==="one"?"한 문장":"전체"}`),S(W,t(h)?"기본크기":"글자 크게")}),k("click",w,D),k("click",$,G),k("click",T,H),x(l,I),ot(),E()}export{Mt as component};
