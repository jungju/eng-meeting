import{t as j,e as x,a as S,s as w,c as te}from"../chunks/CEmPIxNJ.js";import"../chunks/By0_FFSG.js";import{h as F,a3 as ae,a8 as L,a9 as se,a5 as P,t as R,a6 as oe,a4 as A,c as m,g as e,o as f,q as o,r as d,aa as re,F as ne}from"../chunks/DKVBVOUy.js";import{i as le}from"../chunks/DVrbH2wj.js";import{e as ie,i as ce}from"../chunks/C6EYMggD.js";import{s as fe}from"../chunks/BnVpz-va.js";import{a as ve}from"../chunks/DkPbIObf.js";import{i as pe}from"../chunks/DaaNtiuP.js";import{s as ue,a as me}from"../chunks/CWYHwTbz.js";import{o as de}from"../chunks/0jm4Ivcg.js";import{p as ge}from"../chunks/DkJLgkZx.js";import{b as be}from"../chunks/BlzJL3il.js";function V(i,q,g,E,v,s){var p=i.__className;if(F||p!==g||p===void 0){var r=ve(g,E,s);(!F||r!==i.getAttribute("class"))&&(r==null?i.removeAttribute("class"):i.className=r),i.__className=g}else if(s&&v!==s)for(var n in s){var a=!!s[n];(v==null||a!==!!v[n])&&i.classList.toggle(n,a)}return s}var _e=j('<div><div class="idx svelte-e0fcab"></div> <div> </div></div>'),he=j('<p class="loading svelte-e0fcab">문장 데이터를 불러오는 중입니다...</p>'),$e=j('<!> <div class="controls svelte-e0fcab"><button class="svelte-e0fcab"> </button> <button class="svelte-e0fcab"> </button> <button class="svelte-e0fcab"> </button></div>',1);function Ie(i,q){ae(q,!1);const[g,E]=ue(),v=()=>me(ge,"$page",g),s=f(),p=f();let r=f([]),n=f(-1),a=null,b=f(!1),c=f("none"),h=f(!1);de(async()=>{if(!e(s))return;const t=await fetch(`${e(p)}/sentences.json`);if(t.ok){const l=await t.json();o(r,l.sentences)}});async function _(t){var l;t<0||t>=e(r).length||(o(n,t),await re(),(l=document.getElementById(`s-${t}`))==null||l.scrollIntoView({behavior:"smooth",block:"center"}),a==null||a.pause(),a=new Audio(`${e(p)}/audio/${String(t+1).padStart(2,"0")}.mp3`),a.onended=()=>{e(c)==="one"?_(e(n)):e(n)<e(r).length-1?_(e(n)+1):e(c)==="all"?_(0):o(b,!1)},o(b,!0),a.play())}function D(){a?a.paused?(a.play(),o(b,!0)):(a.pause(),o(b,!1)):_(0)}function G(){o(c,e(c)==="none"?"one":e(c)==="one"?"all":"none")}function H(){o(h,!e(h))}L(()=>v(),()=>{var t;o(s,((t=v().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:t[1])||"")}),L(()=>e(s),()=>{o(p,`${be}/assets/sentence/${e(s)}`)}),se(),pe();var B=$e(),I=P(B);{var J=t=>{var l=te(),W=P(l);ie(W,1,()=>e(r),ce,(X,Y,k)=>{var u=_e();fe(u,"id",`s-${k}`);var z=m(u);z.textContent=k+1;var T=A(z,2);let C;var Z=m(T,!0);d(T),d(u),R(ee=>{V(u,1,`sent ${k===e(n)?"active":""}`,"svelte-e0fcab"),C=V(T,1,"text svelte-e0fcab",null,C,ee),w(Z,e(Y))},[()=>({large:e(h)})],ne),x("click",u,()=>_(k)),S(X,u)}),S(t,l)},K=t=>{var l=he();S(t,l)};le(I,t=>{e(r).length?t(J):t(K,!1)})}var M=A(I,2),$=m(M),O=m($,!0);d($);var y=A($,2),Q=m(y);d(y);var N=A(y,2),U=m(N,!0);d(N),d(M),R(()=>{w(O,e(b)?"⏸":"▶"),w(Q,`반복: ${e(c)==="none"?"없음":e(c)==="one"?"한 문장":"전체"}`),w(U,e(h)?"기본크기":"글자 크게")}),x("click",$,D),x("click",y,G),x("click",N,H),S(i,B),oe(),E()}export{Ie as component};
