import{t as I,e as m,a as $,s as p,c as Et}from"../chunks/DGLAqYrP.js";import"../chunks/BMzVrWaL.js";import{a6 as St,a7 as G,a8 as jt,f as Z,t as L,a9 as Kt,a as c,s as _,c as r,g as t,j as a,r as n,ab as Mt,O as tt}from"../chunks/8yeZbsG4.js";import{i as At}from"../chunks/BAjmUJVp.js";import{e as et,i as st}from"../chunks/DHWvvD31.js";import{s as Bt}from"../chunks/BBab7lWb.js";import{s as D}from"../chunks/DOIkYpns.js";import{i as Dt}from"../chunks/vOApP0Mz.js";import{s as It,a as Tt}from"../chunks/DYmniotX.js";import{o as qt,a as zt}from"../chunks/twRiorZ6.js";import{p as Ct}from"../chunks/BSro2pSw.js";import{b as Gt}from"../chunks/CGGTc_c8.js";var Lt=I('<div><div class="line svelte-k3ns25"><div class="idx svelte-k3ns25"></div> <div class="content svelte-k3ns25"><div> </div> <div> </div></div></div></div>'),Ot=I('<p class="loading svelte-k3ns25">문장 데이터를 불러오는 중입니다...</p>'),Pt=I("<button> </button>"),Rt=I('<div class="list svelte-k3ns25"><!></div> <div class="controls svelte-k3ns25"><button> </button> <button> </button> <button> </button> <button> </button> <button> </button> <div class="gap-group svelte-k3ns25"></div></div>',1);function ee(at,nt){St(nt,!1);const[ot,rt]=It(),O=()=>Tt(Ct,"$page",ot),y=c(),T=c(),P=c();let v=c([]),R=c([]),g=c(-1),o,k=c(!1),f=c("none"),w=c(!1),E=c(!1),V=[],d=c("both");function it(){a(d,t(d)==="both"?"hideKor":t(d)==="hideKor"?"hideEng":"both")}const F=[0,1e3,3e3,5e3];let q=c(F[0]);qt(async()=>{if(!t(y))return;const e=await fetch(`${t(T)}/sentences.json`);if(e.ok){const s=await e.json();a(v,s.sentences),a(R,s.korean)}}),zt(()=>{o==null||o.pause()});async function x(e){var s;e<0||e>=t(v).length||(a(g,e),await Mt(),(s=document.getElementById(`s-${e}`))==null||s.scrollIntoView({behavior:"smooth",block:"center"}),o==null||o.pause(),o=new Audio(`${t(T)}/audio/${String(e+1).padStart(2,"0")}.mp3`),o.onended=()=>{setTimeout(()=>{t(f)==="one"?x(t(g)):t(g)<t(v).length-1?x(t(g)+1):t(f)==="all"?x(0):a(k,!1)},t(q))},a(k,!0),o.play())}function lt(){o?o.paused?(o.play(),a(k,!0)):(o.pause(),a(k,!1)):x(0)}function ct(){a(f,t(f)==="none"?"one":t(f)==="one"?"all":"none")}function vt(){a(w,!t(w))}function dt(){a(E,!t(E)),t(E)?(V=[...t(v)],a(v,t(v).map(e=>{const s=e.split(" "),i=s.length,b=i<=2?1:i>=10?3:2,u=[];for(;u.length<b;){const l=Math.floor(Math.random()*i);u.includes(l)||u.push(l)}return u.forEach(l=>s[l]="____"),s.join(" ")}))):a(v,[...V])}function ut(e){a(q,e)}G(()=>O(),()=>{var e;a(y,((e=O().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:e[1])||"")}),G(()=>t(y),()=>{a(T,`${Gt}/assets/sentence/${t(y)}`)}),G(()=>t(d),()=>{a(P,t(d)==="both"?"한글 숨기기":t(d)==="hideKor"?"영어 숨기기":"기본 보기")}),jt(),Dt();var H=Rt(),z=Z(H),pt=r(z);{var _t=e=>{var s=Et(),i=Z(s);et(i,1,()=>t(v),st,(b,u,l)=>{var h=Lt();Bt(h,"id",`s-${l}`);var Q=r(h),U=r(Q);U.textContent=`${l+1}.`;var W=_(U,2),B=r(W);let X;var xt=r(B,!0);n(B);var C=_(B,2);let Y;var $t=r(C,!0);n(C),n(W),n(Q),n(h),L((yt,wt)=>{D(h,1,`sent ${l===t(g)?"active":""}`,"svelte-k3ns25"),X=D(B,1,"text svelte-k3ns25",null,X,yt),p(xt,t(u)),Y=D(C,1,"kor svelte-k3ns25",null,Y,wt),p($t,t(R)[l])},[()=>({large:t(w),hidden:t(d)==="hideEng"}),()=>({hidden:t(d)==="hideKor"})],tt),m("click",h,()=>x(l)),$(b,h)}),$(e,s)},ft=e=>{var s=Ot();$(e,s)};At(pt,e=>{t(v).length?e(_t):e(ft,!1)})}n(z);var J=_(z,2),S=r(J),mt=r(S,!0);n(S);var j=_(S,2),bt=r(j);n(j);var K=_(j,2),ht=r(K,!0);n(K);var M=_(K,2),gt=r(M,!0);n(M);var A=_(M,2),kt=r(A,!0);n(A);var N=_(A,2);et(N,5,()=>F,st,(e,s)=>{var i=Pt();let b;var u=r(i,!0);n(i),L(l=>{b=D(i,1,"svelte-k3ns25",null,b,l),p(u,t(s)===0?"즉시":`${t(s)/1e3}초`)},[()=>({selected:t(q)===t(s)})],tt),m("click",i,()=>ut(t(s))),$(e,i)}),n(N),n(J),L(()=>{p(mt,t(k)?"⏸":"▶"),p(bt,`반복:${t(f)==="none"?"없음":t(f)==="one"?"한 문장":"전체"}`),p(ht,t(w)?"기본크기":"글자 크게"),p(gt,t(P)),p(kt,t(E)?"원문 보기":"빈칸 만들기")}),m("click",S,lt),m("click",j,ct),m("click",K,vt),m("click",M,it),m("click",A,dt),$(at,H),Kt(),rt()}export{ee as component};
