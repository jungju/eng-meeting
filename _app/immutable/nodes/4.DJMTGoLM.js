import{t as T,e as q,a as k,s as x,c as at}from"../chunks/CEmPIxNJ.js";import"../chunks/By0_FFSG.js";import{h as F,a3 as st,a8 as L,a9 as ot,a5 as P,t as R,a6 as rt,a4 as S,c as f,g as t,o as p,q as o,r as v,aa as nt,F as it}from"../chunks/DKVBVOUy.js";import{i as lt}from"../chunks/DVrbH2wj.js";import{e as ct,i as ft}from"../chunks/C6EYMggD.js";import{s as pt}from"../chunks/BnVpz-va.js";import{a as vt}from"../chunks/DkPbIObf.js";import{i as ut}from"../chunks/DaaNtiuP.js";import{s as mt,a as dt}from"../chunks/CWYHwTbz.js";import{o as gt}from"../chunks/0jm4Ivcg.js";import{p as _t}from"../chunks/DRgPQQKD.js";import{b as bt}from"../chunks/C2pSwRAf.js";function V(i,B,g,w,u,s){var m=i.__className;if(F||m!==g||m===void 0){var r=vt(g,w,s);(!F||r!==i.getAttribute("class"))&&(r==null?i.removeAttribute("class"):i.className=r),i.__className=g}else if(s&&u!==s)for(var n in s){var a=!!s[n];(u==null||a!==!!u[n])&&i.classList.toggle(n,a)}return s}var ht=T('<div><div class="idx svelte-qfjslp"></div> <div> </div></div>'),$t=T('<p class="loading svelte-qfjslp">문장 데이터를 불러오는 중입니다...</p>'),yt=T('<div class="list svelte-qfjslp"><!></div> <div class="controls svelte-qfjslp"><button> </button> <button> </button> <button> </button></div>',1);function Mt(i,B){st(B,!1);const[g,w]=mt(),u=()=>dt(_t,"$page",g),s=p(),m=p();let r=p([]),n=p(-1),a,_=p(!1),l=p("none"),h=p(!1);gt(async()=>{if(!t(s))return;const e=await fetch(`${t(m)}/sentences.json`);e.ok&&o(r,(await e.json()).sentences)});async function b(e){var c;e<0||e>=t(r).length||(o(n,e),await nt(),(c=document.getElementById(`s-${e}`))==null||c.scrollIntoView({behavior:"smooth",block:"center"}),a==null||a.pause(),a=new Audio(`${t(m)}/audio/${String(e+1).padStart(2,"0")}.mp3`),a.onended=()=>t(l)==="one"?b(t(n)):t(n)<t(r).length-1?b(t(n)+1):t(l)==="all"?b(0):o(_,!1),o(_,!0),a.play())}function D(){a?a.paused?(a.play(),o(_,!0)):(a.pause(),o(_,!1)):b(0)}function G(){o(l,t(l)==="none"?"one":t(l)==="one"?"all":"none")}function H(){o(h,!t(h))}L(()=>u(),()=>{var e;o(s,((e=u().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:e[1])||"")}),L(()=>t(s),()=>{o(m,`${bt}/assets/sentence/${t(s)}`)}),ot(),ut();var I=yt(),A=P(I),J=f(A);{var K=e=>{var c=at(),X=P(c);ct(X,1,()=>t(r),ft,(Y,Z,j)=>{var d=ht();pt(d,"id",`s-${j}`);var z=f(d);z.textContent=j+1;var N=S(z,2);let C;var tt=f(N,!0);v(N),v(d),R(et=>{V(d,1,`sent ${j===t(n)?"active":""}`,"svelte-qfjslp"),C=V(N,1,"text svelte-qfjslp",null,C,et),x(tt,t(Z))},[()=>({large:t(h)})],it),q("click",d,()=>b(j)),k(Y,d)}),k(e,c)},O=e=>{var c=$t();k(e,c)};lt(J,e=>{t(r).length?e(K):e(O,!1)})}v(A);var M=S(A,2),$=f(M),Q=f($,!0);v($);var y=S($,2),U=f(y);v(y);var E=S(y,2),W=f(E,!0);v(E),v(M),R(()=>{x(Q,t(_)?"⏸":"▶"),x(U,`반복:${t(l)==="none"?"없음":t(l)==="one"?"한 문장":"전체"}`),x(W,t(h)?"기본크기":"글자 크게")}),q("click",$,D),q("click",y,G),q("click",E,H),k(i,I),rt(),w()}export{Mt as component};
