import{t as T,e as k,a as x,s as S,c as et}from"../chunks/CEmPIxNJ.js";import"../chunks/By0_FFSG.js";import{h as F,a3 as at,a8 as L,a9 as st,a5 as P,t as R,a6 as ot,a4 as w,c as d,g as t,o as f,q as o,r as g,aa as rt,F as nt}from"../chunks/DKVBVOUy.js";import{i as lt}from"../chunks/DVrbH2wj.js";import{e as it,i as ct}from"../chunks/C6EYMggD.js";import{s as ft}from"../chunks/BnVpz-va.js";import{a as vt}from"../chunks/DkPbIObf.js";import{i as pt}from"../chunks/DaaNtiuP.js";import{s as ut,a as dt}from"../chunks/CWYHwTbz.js";import{o as gt}from"../chunks/0jm4Ivcg.js";import{p as mt}from"../chunks/CGxJVPQ6.js";import{b as _t}from"../chunks/Blxn_5Dx.js";function V(i,j,m,A,v,s){var p=i.__className;if(F||p!==m||p===void 0){var r=vt(m,A,s);(!F||r!==i.getAttribute("class"))&&(r==null?i.removeAttribute("class"):i.className=r),i.__className=m}else if(s&&v!==s)for(var n in s){var a=!!s[n];(v==null||a!==!!v[n])&&i.classList.toggle(n,a)}return s}var bt=T('<div><div class="idx svelte-19dgqt4"></div> <div> </div></div>'),ht=T('<p class="loading svelte-19dgqt4">문장 데이터를 불러오는 중입니다...</p>'),$t=T('<!> <div class="controls svelte-19dgqt4"><button class="svelte-19dgqt4"> </button> <button class="svelte-19dgqt4"> </button> <button class="svelte-19dgqt4"> </button></div>',1);function It(i,j){at(j,!1);const[m,A]=ut(),v=()=>dt(mt,"$page",m),s=f(),p=f();let r=f([]),n=f(-1),a=null,_=f(!1),c=f("none"),h=f(!1);gt(async()=>{if(!t(s))return;const e=await fetch(`${t(p)}/sentences.json`);if(e.ok){const l=await e.json();o(r,l.sentences)}});async function b(e){var l;e<0||e>=t(r).length||(o(n,e),await rt(),(l=document.getElementById(`s-${e}`))==null||l.scrollIntoView({behavior:"smooth",block:"center"}),a==null||a.pause(),a=new Audio(`${t(p)}/audio/${String(e+1).padStart(2,"0")}.mp3`),a.onended=()=>{t(c)==="one"?b(t(n)):t(n)<t(r).length-1?b(t(n)+1):t(c)==="all"?b(0):o(_,!1)},o(_,!0),a.play())}function D(){a?a.paused?(a.play(),o(_,!0)):(a.pause(),o(_,!1)):b(0)}function G(){o(c,t(c)==="none"?"one":t(c)==="one"?"all":"none")}function H(){o(h,!t(h))}L(()=>v(),()=>{var e;o(s,((e=v().url.pathname.match(/\/sentence\/([^\/]+)/))==null?void 0:e[1])||"")}),L(()=>t(s),()=>{o(p,`${_t}/assets/sentence/${t(s)}`)}),st(),pt();var B=$t(),I=P(B);{var J=e=>{var l=et(),W=P(l);it(W,1,()=>t(r),ct,(X,Y,y)=>{var u=bt();ft(u,"id",`s-${y}`);var z=d(u);z.textContent=y+1;var N=w(z,2);let C;var Z=d(N,!0);g(N),g(u),R(tt=>{V(u,1,`sent ${y===t(n)?"active":""}`,"svelte-19dgqt4"),C=V(N,1,"text svelte-19dgqt4",null,C,tt),S(Z,t(Y))},[()=>({large:t(h)})],nt),k("click",u,()=>b(y)),x(X,u)}),x(e,l)},K=e=>{var l=ht();x(e,l)};lt(I,e=>{t(r).length?e(J):e(K,!1)})}var M=w(I,2),$=d(M),O=d($,!0);g($);var q=w($,2),Q=d(q);g(q);var E=w(q,2),U=d(E,!0);g(E),g(M),R(()=>{S(O,t(_)?"⏸":"▶"),S(Q,`반복: ${t(c)==="none"?"없음":t(c)==="one"?"한 문장":"전체"}`),S(U,t(h)?"기본크기":"글자 크게")}),k("click",$,D),k("click",q,G),k("click",E,H),x(i,B),ot(),A()}export{It as component};
